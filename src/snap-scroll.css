/*
  Stili per abilitare lo "snap scrolling" tra le sezioni su dispositivi mobili,
  creando un'esperienza di navigazione a pagine a schermo intero.
*/

/* Applica questi stili solo su schermi fino a 1023px (la breakpoint 'lg' di Tailwind) */
@media (max-width: 1023px) {
  /* 1. Prepara il viewport per il contenitore di scrolling */
  html, body {
    /* Occupa l'intera altezza e impedisce lo scrolling del body stesso */
    height: 100%;
    overflow: hidden;
  }

  /* 2. Trasforma il contenitore principale in un'area di scroll a scorrimento verticale */
  #appContainer {
    /* L'altezza viene ora gestita in style.css per tenere conto della title-bar */
    height: calc(var(--vh, 1vh) * 100 - var(--title-bar-height, 0px)) !important;
    width: 100vw;
    max-width: 100vw;
    overflow-y: scroll; /* Abilita lo scrolling verticale */
    scroll-snap-type: y mandatory; /* Forza lo snap a una pagina */
    scroll-behavior: smooth; /* Animazione di scroll fluida */
    
    /* Rimuove gli stili da "card" per un'esperienza a schermo intero */
    border-radius: 0;
    box-shadow: none;
    padding: 0;
    gap: 0;
  }
  
  /* Nasconde la scrollbar per un look più nativo */
  #appContainer::-webkit-scrollbar { display: none; }
  #appContainer { -ms-overflow-style: none; scrollbar-width: none; }

  /* 3. Definisce le sezioni come "pagine" a cui fare lo snap */
  #calculator-section, #history-section {
    scroll-snap-align: start; /* Allinea l'inizio della sezione con l'inizio del viewport */
    height: 100vh; /* Fallback */
    height: calc(var(--vh, 1vh) * 100);
    overflow-y: auto; /* Permette lo scrolling interno se il contenuto è più lungo della pagina */
    padding: 1rem;
    padding-top: 2.5rem; /* Spazio extra in alto per non sovrapporre la status bar del telefono */
    margin-top: 0; /* Rimuove il margine tra le sezioni */
    border-top: none; /* Rimuove il bordo tra le sezioni */
  }

  /* Animazione di "rimbalzo" più delicata per i pulsanti di navigazione mobile */
  @keyframes subtle-bounce {
    0%, 100% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(-6px);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }

  .animate-subtle-bounce {
    animation: subtle-bounce 2s infinite;
  }
}